\documentclass{article}
\author{Abraham Levkoy}
\title{SICP exercises, section 2.1}

\usepackage{mystyle}

\begin{document}
\maketitle

\section{Exercise 2.1}
\begin{quote}
    Define a better version of \texttt{make-rat} that handles both positive and
    negative arguments. \texttt{Make-rat} should normalize the sign so that if
    the rational number is positive, both the numerator and denominator are
    positive, and if the rational number is negative, only the numerator is
    negative.
\end{quote}

\lstinputlisting[firstline=22,lastline=35]{ch2/ex2.1.scm}

\section{Exercise 2.2}
\begin{quote}
    Consider the problem of representing line segments in a plane. Each segment
    is represented as a pair of points: a starting point and an ending point.
    Define a constructor \texttt{make-segment} and selectors
    \texttt{start-segment} and \texttt{end-segment} that define the
    representation of segments in terms of points.  Furthermore, a point can be
    represented as a pair of numbers: the $x$ coordinate and the $y$
    coordinate. Accordingly, specify a constructor \texttt{make-point} and
    selectors \texttt{x-point} and \texttt{y-point} that define this
    representation. Finally, using your selectors and constructors, define a
    procedure \texttt{midpoint-segment} that takes a line segment as argument
    and returns its midpoint (the point whose coordinates are the average of
    the coordinates of the endpoints). To try your procedures, youâ€™ll need a
    way to print points:
    \begin{lstlisting}
(define (print-point p)
  (newline)
  (display "(")
  (display (x-point p))
  (display ",")
  (display (y-point p))
  (display ")"))
    \end{lstlisting}
\end{quote}

\lstinputlisting[firstline=27,lastline=53]{ch2/ex2.2.scm}

\section{Exercise 2.3}
\begin{quote}
    Implement a representation for rectangles in a plane. (Hint: You may want
    to make use of Exercise 2.2.) In terms of your constructors and selectors,
    create procedures that compute the perimeter and the area of a given
    rectangle. Now implement a different representation for rectangles. Can you
    design your system with suitable abstraction barriers, so that the same
    perimeter and area procedures will work using either representation?
\end{quote}

The first implementation represents a rectangle as 3 points. The fourth point
could be derived if it were needed. The \texttt{area} and \texttt{perimeter}
functions are implemented in terms of helpers \texttt{height-rectangle} and
\texttt{width-rectangle}, which are in turn implemented in terms of the point
selectors for this implementation.
% Still working in ex2.2.scm to avoid copying solution of exercise 2.2
\lstinputlisting[firstline=64,lastline=100]{ch2/ex2.2.scm}

The second implementation represents a rectangle as 2 segments, which are
assumed to share a point. This requires new selectors and new implementations of
\texttt{width-rectangle} and \texttt{height-rectangle}, but \texttt{area} and
\texttt{perimeter} don't need to change.
\lstinputlisting[firstline=120,lastline=133]{ch2/ex2.2.scm}
\end{document}
