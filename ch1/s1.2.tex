\documentclass{article}
\author{Abraham Levkoy}
\title{SICP exercises, section 1.2}

\usepackage{mystyle}

\begin{document}
\maketitle

\section{Exercise 1.9}
\begin{quote}
    Each of the following two procedures defines a method for adding two
    positive integers in terms of the procedures \verb|inc|, which increments
    its argument by 1, and \verb|dec|, which decrements its argument by 1.
    \begin{lstlisting}
(define (+ a b)
  (if (= a 0)
      b
      (inc (+ (dec a) b))))

(define (+ a b)
  (if (= a 0)
      b
      (+ (dec a) (inc b))))
    \end{lstlisting}
    Using the substitution model, illustrate the process generated by each
    procedure in evaluating \verb|(+ 4 5)|. Are these processes iterative or
    recursive?
\end{quote}

The first procedure generates a recursive process:

\begin{minipage}{\linewidth}
\begin{verbatim}
(+ 4 5)
(inc (+ 3 5))
(inc (inc (+ 2 5)))
(inc (inc (inc (+ 1 5))))
(inc (inc (inc (inc (+ 0 5)))))
(inc (inc (inc (inc 5))))
(inc (inc (inc 6)))
(inc (inc 7))
(inc 8)
9
\end{verbatim}
\end{minipage}
% minipage does not seem to have a blank line after it like a normal paragraph
\vspace{\baselineskip}

The second procedure generates an iterative process:

\begin{minipage}{\linewidth}
\begin{verbatim}
(+ 4 5)
(+ 3 6)
(+ 2 7)
(+ 1 8)
(+ 0 9)
9
\end{verbatim}
\end{minipage}

\section{Exercise 1.10}
\begin{quote}
	The following procedure computes a mathematical function called Ackermann’s
	function.
    \begin{lstlisting}
(define (A x y)
  (cond ((= y 0) 0)
        ((= x 0) (* 2 y))
        ((= y 1) 2)
        (else (A (- x 1)
                 (A x (- y 1))))))
    \end{lstlisting}
    What are the values of the following expressions?

    \verb|(A 1 10)|\\
    \verb|(A 2 4)|\\
    \verb|(A 3 3)|\\
\end{quote}

\begin{minipage}{\linewidth}
\begin{verbatim}
(A 1 10)
(A 0 (A 1 9))
(A 0 (A 0 (A 1 8)))
(A 0 (A 0 (A 0 (A 1 7))))
(A 0 (A 0 (A 0 (A 0 (A 1 6)))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 1 5))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 4)))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 3))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 2)))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 1))))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 2)))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 4))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 8)))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 16))))))
(A 0 (A 0 (A 0 (A 0 (A 0 32)))))
(A 0 (A 0 (A 0 (A 0 64))))
(A 0 (A 0 (A 0 128)))
(A 0 (A 0 256))
(A 0 512)
1024
\end{verbatim}
\end{minipage}
\vspace{\baselineskip}

\begin{minipage}{\linewidth}
\begin{verbatim}
(A 2 4)
(A 1 (A 2 3))
(A 1 (A 1 (A 2 2)))
(A 1 (A 1 (A 1 (A 2 1))))
(A 1 (A 1 (A 1 2)))
(A 1 (A 1 (A 0 (A 1 1))))
(A 1 (A 1 (A 0 2)))
(A 1 (A 1 4))
...
(A 1 16)
...
65536
\end{verbatim}
\end{minipage}
\vspace{\baselineskip}

\begin{minipage}{\linewidth}
\begin{verbatim}
(A 3 3)
(A 2 (A 3 2))
(A 2 (A 2 (A 3 1)))
(A 2 (A 2 2))
...
(A 2 4)
...
65536
\end{verbatim}
\end{minipage}
\vspace{\baselineskip}

\begin{quote}
    Consider the following procedures, where A is the procedure defined above:

    \begin{lstlisting}
(define (f n) (A 0 n))
(define (g n) (A 1 n))
(define (h n) (A 2 n))
(define (k n) (* 5 n n))
    \end{lstlisting}

    Give concise mathematical definitions for the functions computed by the
    procedures \verb|f|, \verb|g|, and \verb|h| for positive integer values of
    $n $. For example, \verb|(k n)| computes $5n^2$.
\end{quote}

\verb|(f n)| calculates $2n$.

\verb|(g n)| calculates $2^n$.

\verb|(h n)| calculates $2^{2^2}\ldots$ ($n$ levels of exponentiation).

\section{Exercise 1.11}
\begin{quote}
    A function $f$ is defined by the rule that $f(n) = n$ if $n < 3$ and
    $f(n) = f(n - 1) + 2f(n - 2) + 3f(n - 3)$ if $n \geq 3$. Write a procedure
    that computes $f$ by means of a recursive process. Write a procedure that
    computes $f$ by means of an iterative process.
\end{quote}

Recursive process:
\lstinputlisting[firstline=4,lastline=9]{ch1/ex1.11.scm}

Iterative process:
\lstinputlisting[firstline=12,lastline=25]{ch1/ex1.11.scm}

\section{Exercise 1.12}
\begin{quote}
	The following pattern of numbers is called Pascal’s triangle.

    \begin{tabular}{ccccccccc}
         & & & &1& & & & \\
         & & &1& &1& & & \\
         & &1& &2& &1& & \\
         &1& &3& &3& &1& \\
        1& &4& &6& &4& &1\\
        \multicolumn{9}{c}{$\cdots$}
    \end{tabular}

	The numbers at the edge of the triangle are all 1, and each number inside
	the triangle is the sum of the two numbers above it. Write a procedure that
	computes elements of Pascal's triangle by means of a recursive process.
\end{quote}

\parbox{\textwidth}{\lstinputlisting[firstline=2]{ch1/ex1.12.scm}}

\section{Exercise 1.13}
\begin{quote}
	Prove that $\textrm{Fib}(n)$ is the closest integer to $\phi^n/\sqrt{5}$,
	where $\phi = (1+\sqrt{5})/2$.  Hint: Let $\psi = (1-\sqrt{5})/2$. Use
	induction and the definition of the Fibonacci numbers (see 1.2.2) to prove
	that $\textrm{Fib}(n) = (\phi^n -\psi^n)/\sqrt{5}$.
\end{quote}

\begin{proof}
    Let $\phi = \frac{1+\sqrt{5}}{2}$. Let $\psi = \frac{1-\sqrt{5}}{2}$.

    Proof by induction. Base case:
    \begin{IEEEeqnarray*}{rCCCCCl}
        \frac{\phi^0-\psi^0}{\sqrt{5}} & = &&& 0 & = & \textrm{Fib}(0) \\
        \frac{\phi^1-\psi^1}{\sqrt{5}} & = &
            \frac{(1+\sqrt{5}) - (1-\sqrt{5})}{2\sqrt{5}} =
            \frac{2\sqrt{5}}{2\sqrt{5}} & = & 1 & = & \textrm{Fib}(1)
    \end{IEEEeqnarray*}

    Induction hypothesis:
    \begin{IEEEeqnarray*}{rCl}
        \textrm{Fib}(k) & = & \frac{\phi^k -\psi^k}{\sqrt{5}} \\
        \textrm{Fib}(k+1) & = &
            \frac{\phi^{k+1} - \psi^{k+1}}{\sqrt{5}} + \textrm{Fib}(k)
    \end{IEEEeqnarray*}

    \begin{IEEEeqnarray*}{rCl}
        \Rightarrow \textrm{Fib}(k+2) & = &
            \textrm{Fib}(k+1) + \textrm{Fib}(k) \\
        & = & \frac{\phi^{k+1}-\psi^{k+1}}{\sqrt{5}} +
            \frac{\phi^k-\psi^{k}}{\sqrt{5}} \\
        & = & \frac{\phi^k(\phi+1)-\psi^k(\psi+1)}{\sqrt{5}} \\
        & = & \frac{\frac{\phi^k(1+\sqrt{5}+2)}{2} -
            \frac{\psi^k(1-\sqrt{5}+2)}{2}}{\sqrt{5}} \\
        & = & \frac{\frac{\phi^k(2+2\sqrt{5}+4)}{4}-
            \frac{\psi^k(2-2\sqrt{5}+4)}{4}}{\sqrt{5}} \\
        & = & \frac{\phi^k\phi^2-\psi^k\psi^2}{\sqrt{5}} \\
        & = & \frac{\phi^{k+2}-\psi^{k+2}}{\sqrt{5}} \\
        \Rightarrow \textrm{Fib}(n) & = & \frac{\phi^n-\psi^n}{\sqrt{5}}
    \end{IEEEeqnarray*}

    $|\frac{\phi^n}{\sqrt{5}}| < 1$ for $n=1$. \\
    $\lim_{n \rightarrow \infty} |\frac{\phi^n}{\sqrt{5}}| \ll 1$. \\
    $\Rightarrow$ There is no integer closer to $\frac{\phi^n}{\sqrt{5}}$ than
        $\frac{\phi^n-\psi^n}{\sqrt{5}}$. \\
    $\Rightarrow \textrm{Fib}(n)$ is the closest integer to
        $\frac{\phi^n}{\sqrt{5}}$.
\end{proof}

\end{document}
