\documentclass{article}
\author{Abraham Levkoy}
\title{SICP exercises, section 1.2}

\usepackage{mystyle}

\begin{document}
\maketitle

\section{Exercise 1.9}
\begin{quote}
    Each of the following two procedures defines a method for adding two
    positive integers in terms of the procedures \verb|inc|, which increments
    its argument by 1, and \verb|dec|, which decrements its argument by 1.
    \begin{lstlisting}
(define (+ a b)
  (if (= a 0)
      b
      (inc (+ (dec a) b))))

(define (+ a b)
  (if (= a 0)
      b
      (+ (dec a) (inc b))))
    \end{lstlisting}
    Using the substitution model, illustrate the process generated by each
    procedure in evaluating \verb|(+ 4 5)|. Are these processes iterative or
    recursive?
\end{quote}

The first procedure generates a recursive process:

\begin{minipage}{\linewidth}
\begin{verbatim}
(+ 4 5)
(inc (+ 3 5))
(inc (inc (+ 2 5)))
(inc (inc (inc (+ 1 5))))
(inc (inc (inc (inc (+ 0 5)))))
(inc (inc (inc (inc 5))))
(inc (inc (inc 6)))
(inc (inc 7))
(inc 8)
9
\end{verbatim}
\end{minipage}
% minipage does not seem to have a blank line after it like a normal paragraph
\vspace{\baselineskip}

The second procedure generates an iterative process:

\begin{minipage}{\linewidth}
\begin{verbatim}
(+ 4 5)
(+ 3 6)
(+ 2 7)
(+ 1 8)
(+ 0 9)
9
\end{verbatim}
\end{minipage}

\section{Exercise 1.10}
\begin{quote}
	The following procedure computes a mathematical function called Ackermann’s
	function.
    \begin{lstlisting}
(define (A x y)
  (cond ((= y 0) 0)
        ((= x 0) (* 2 y))
        ((= y 1) 2)
        (else (A (- x 1)
                 (A x (- y 1))))))
    \end{lstlisting}
    What are the values of the following expressions?

    \verb|(A 1 10)|\\
    \verb|(A 2 4)|\\
    \verb|(A 3 3)|\\
\end{quote}

\begin{minipage}{\linewidth}
\begin{verbatim}
(A 1 10)
(A 0 (A 1 9))
(A 0 (A 0 (A 1 8)))
(A 0 (A 0 (A 0 (A 1 7))))
(A 0 (A 0 (A 0 (A 0 (A 1 6)))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 1 5))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 4)))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 3))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 2)))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 1 1))))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 2)))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 4))))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 (A 0 8)))))))
(A 0 (A 0 (A 0 (A 0 (A 0 (A 0 16))))))
(A 0 (A 0 (A 0 (A 0 (A 0 32)))))
(A 0 (A 0 (A 0 (A 0 64))))
(A 0 (A 0 (A 0 128)))
(A 0 (A 0 256))
(A 0 512)
1024
\end{verbatim}
\end{minipage}
\vspace{\baselineskip}

\begin{minipage}{\linewidth}
\begin{verbatim}
(A 2 4)
(A 1 (A 2 3))
(A 1 (A 1 (A 2 2)))
(A 1 (A 1 (A 1 (A 2 1))))
(A 1 (A 1 (A 1 2)))
(A 1 (A 1 (A 0 (A 1 1))))
(A 1 (A 1 (A 0 2)))
(A 1 (A 1 4))
...
(A 1 16)
...
65536
\end{verbatim}
\end{minipage}
\vspace{\baselineskip}

\begin{minipage}{\linewidth}
\begin{verbatim}
(A 3 3)
(A 2 (A 3 2))
(A 2 (A 2 (A 3 1)))
(A 2 (A 2 2))
...
(A 2 4)
...
65536
\end{verbatim}
\end{minipage}
\vspace{\baselineskip}

\begin{quote}
    Consider the following procedures, where A is the procedure defined above:

    \begin{lstlisting}
(define (f n) (A 0 n))
(define (g n) (A 1 n))
(define (h n) (A 2 n))
(define (k n) (* 5 n n))
    \end{lstlisting}

    Give concise mathematical definitions for the functions computed by the
    procedures \verb|f|, \verb|g|, and \verb|h| for positive integer values of
    $n $. For example, \verb|(k n)| computes $5n^2$.
\end{quote}

\verb|(f n)| calculates $2n$.

\verb|(g n)| calculates $2^n$.

\verb|(h n)| calculates $2^{2^2}\ldots$ ($n$ levels of exponentiation).

\section{Exercise 1.11}
\begin{quote}
    A function $f$ is defined by the rule that $f(n) = n$ if $n < 3$ and
    $f(n) = f(n - 1) + 2f(n - 2) + 3f(n - 3)$ if $n \geq 3$. Write a procedure
    that computes $f$ by means of a recursive process. Write a procedure that
    computes $f$ by means of an iterative process.
\end{quote}

Recursive process:
\lstinputlisting[firstline=4,lastline=9]{ch1/ex1.11.scm}

Iterative process:
\lstinputlisting[firstline=12,lastline=25]{ch1/ex1.11.scm}

\section{Exercise 1.12}
\begin{quote}
	The following pattern of numbers is called Pascal’s triangle.

    \begin{tabular}{ccccccccc}
         & & & &1& & & & \\
         & & &1& &1& & & \\
         & &1& &2& &1& & \\
         &1& &3& &3& &1& \\
        1& &4& &6& &4& &1\\
        \multicolumn{9}{c}{$\cdots$}
    \end{tabular}

	The numbers at the edge of the triangle are all 1, and each number inside
	the triangle is the sum of the two numbers above it. Write a procedure that
	computes elements of Pascal's triangle by means of a recursive process.
\end{quote}

\parbox{\textwidth}{\lstinputlisting[firstline=2]{ch1/ex1.12.scm}}

\section{Exercise 1.13}
\begin{quote}
	Prove that $\textrm{Fib}(n)$ is the closest integer to $\phi^n/\sqrt{5}$,
	where $\phi = (1+\sqrt{5})/2$.  Hint: Let $\psi = (1-\sqrt{5})/2$. Use
	induction and the definition of the Fibonacci numbers (see 1.2.2) to prove
	that $\textrm{Fib}(n) = (\phi^n -\psi^n)/\sqrt{5}$.
\end{quote}

\begin{proof}
    Let $\phi = \frac{1+\sqrt{5}}{2}$. Let $\psi = \frac{1-\sqrt{5}}{2}$.

    Proof by induction. Base case:
    \begin{IEEEeqnarray*}{rCCCCCl}
        \frac{\phi^0-\psi^0}{\sqrt{5}} & = &&& 0 & = & \textrm{Fib}(0) \\
        \frac{\phi^1-\psi^1}{\sqrt{5}} & = &
            \frac{(1+\sqrt{5}) - (1-\sqrt{5})}{2\sqrt{5}} =
            \frac{2\sqrt{5}}{2\sqrt{5}} & = & 1 & = & \textrm{Fib}(1)
    \end{IEEEeqnarray*}

    Induction hypothesis:
    \begin{IEEEeqnarray*}{rCl}
        \textrm{Fib}(k) & = & \frac{\phi^k -\psi^k}{\sqrt{5}} \\
        \textrm{Fib}(k+1) & = &
            \frac{\phi^{k+1} - \psi^{k+1}}{\sqrt{5}} + \textrm{Fib}(k)
    \end{IEEEeqnarray*}

    \begin{IEEEeqnarray*}{rCl}
        \Rightarrow \textrm{Fib}(k+2) & = &
            \textrm{Fib}(k+1) + \textrm{Fib}(k) \\
        & = & \frac{\phi^{k+1}-\psi^{k+1}}{\sqrt{5}} +
            \frac{\phi^k-\psi^{k}}{\sqrt{5}} \\
        & = & \frac{\phi^k(\phi+1)-\psi^k(\psi+1)}{\sqrt{5}} \\
        & = & \frac{\frac{\phi^k(1+\sqrt{5}+2)}{2} -
            \frac{\psi^k(1-\sqrt{5}+2)}{2}}{\sqrt{5}} \\
        & = & \frac{\frac{\phi^k(2+2\sqrt{5}+4)}{4}-
            \frac{\psi^k(2-2\sqrt{5}+4)}{4}}{\sqrt{5}} \\
        & = & \frac{\phi^k\phi^2-\psi^k\psi^2}{\sqrt{5}} \\
        & = & \frac{\phi^{k+2}-\psi^{k+2}}{\sqrt{5}} \\
        \Rightarrow \textrm{Fib}(n) & = & \frac{\phi^n-\psi^n}{\sqrt{5}}
    \end{IEEEeqnarray*}

    $|\frac{\phi^n}{\sqrt{5}}| < 1$ for $n=1$. \\
    $\lim_{n \rightarrow \infty} |\frac{\phi^n}{\sqrt{5}}| \ll 1$. \\
    $\Rightarrow$ There is no integer closer to $\frac{\phi^n}{\sqrt{5}}$ than
        $\frac{\phi^n-\psi^n}{\sqrt{5}}$. \\
    $\Rightarrow \textrm{Fib}(n)$ is the closest integer to
        $\frac{\phi^n}{\sqrt{5}}$.
\end{proof}

\section{Exercise 1.13}
\begin{quote}
    Draw the tree illustrating the process generated by the
    \verb|count-change| procedure of 1.2.2 in making change for 11 cents. What
    are the orders of growth of the space and number of steps used by this
    process as the amount to be changed increases?
\end{quote}

\begin{allintypewriter}

\Tree [.{(count-change 11)}
    [.{(cc 11 5)}
        [.{(cc 11 4)}
            [.{(cc 11 3)}
                [.{(cc 11 2)} \edge[roof]; \textrm{See below} ]
                [.{(cc 1 2)}
                    [.{(cc 1 1)}
                        [.{(cc 0 0)} 1 ]
                        [.{(cc 1 0)} 0 ]]
                    [.{(cc -4 2)} 0 ]]]
            [.{(cc -14 4)} 0 ]]
        [.{(cc -39 5)} 0 ]]]

\Tree [.{(cc 11 2)}
    [.{(cc 11 1)} \edge[roof]; \textrm{See below} ]
    [.{(cc 6 2)}
        [.{(cc 6 1)}
            [.{(cc 6 0)} 0 ]
            [.{(cc 5 1)}
                [.{(cc 5 0)} 0 ]
                [.{(cc 4 1)} \edge[roof]; \textrm{See below} ]]]
        [.{(cc 1 2)}
            [.{(cc 1 1)}
                [.{(cc 0 0)} 1 ]
                [.{(cc 1 0)} 0 ]]
            [.{(cc -4 2)} 0 ]]]]

\Tree [.{(cc 4 1)}
    [.{(cc 4 0)} 0 ]
    [.{(cc 3 1)}
        [.{(cc 3 0)} 0 ]
        [.{(cc 2 1)}
            [.{(cc 2 0)} 0 ]
            [.{(cc 1 1)}
                [.{(cc 1 0)} 0 ]
                [.{(cc 0 1)} 1 ]]]]]

\Tree [.{(cc 11 1)}
    [.{(cc 11 0)} 0 ]
    [.{(cc 10 1)}
        [.{(cc 10 0)} 0 ]
        [.{(cc 9 1)}
            [.{(cc 9 0)} 0 ]
            [.{(cc 8 1)}
                [.{(cc 8 0)} 0 ]
                [.{(cc 7 1)}
                    [.{(cc 7 0)} 0 ]
                    [.{(cc 6 1)}
                        [.{(cc 6 0)} 0 ]
                        [.{(cc 5 1)} \edge[roof]; \textrm{See below} ]]]]]]]

\Tree [.{(cc 5 1)}
    [.{(cc 5 0)} 0 ]
    [.{(cc 4 1)}
        [.{(cc 4 0)} 0 ]
        [.{(cc 3 1)}
            [.{(cc 3 0)} 0 ]
            [.{(cc 2 1)}
                [.{(cc 2 0)} 0 ]
                [.{(cc 1 1)}
                    [.{(cc 1 0)} 0 ]
                    [.{(cc 0 1)} 1 ]]]]]]
\end{allintypewriter}

$\textrm{Space}(n) = \Theta(n)$. The longest branch will be the one where only
pennies are used, and the length with be $n+4$ (because there are 4 coins that
aren't pennies).

$\textrm{Time}(n)$: There will be five major branches on the tree:
\begin{enumerate}
    \item 1-coin branch (pennies)
    \item 2-coin branch (nickels)
    \item 3-coin branch (dimes)
    \item 4-coin branch (quarters)
    \item 5-coin branch (half dollars)
\end{enumerate}

Branch 1 has $\Theta(n)$ children, as the entire amount must be counted down one
penny at a time.

Branch 2 includes nickels, so it has $\Theta(n)$ pennies-only
branches for every additional nickel that can be subtracted from $n$. Thus,
Branch 2 is $\Theta((n/5)n)=\Theta(n^2/5)$.

Branch 3 additionally contains dimes, so it has a $\Theta(n^2/5)$ branch for
every additional dime that can be subtracted. Thus, branch 3 is
$\Theta((n/10)*n^2/5)=\Theta(n^3/50)$.

Branch 4 additionally contains quarters, so it has a $\Theta(n^3/50)$ branch for
every additional quarter that can be subtracted. Thus, branch 4 is
$\Theta((n/25)*n^3/50)=\Theta(n^4/1250)$.

Branch 5 additionally contains half dollars, so it has a $\Theta(n^4/1250)$
branch for every additional half dollar that can be subtracted. Thus, branch 5
is $\Theta((n/50)*n^4/1250)=\Theta(n^5/6250)$.

The overall $\textrm{Time}(n)$ is the sum of the 5 branches, but the
$\Theta(n^5/6250)$ branch overwhelms the others and simplifies to $\Theta(n^5)$.
Thus, $\textrm{Time}(n)=\Theta(n^5)$.

\end{document}
